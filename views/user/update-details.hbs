<section>
    <div class="row">
        <div class="col-md-6 m-auto">
            <div class="container mt-5">
                <div class="row d-flex justify-content-center text-center">
                    <h2 class="mb-5">Update Details</h2>
                </div>
                <form action="/update-details" id="updateDetails" method="post">

                    <!--<p>Invalid Username or Password</p>-->
                    {{#if loginErr}}
                    <p>{{loginErr}}</p>
                    {{/if}}

                    <!-- Email input -->
                    <div class="form-group mb-4">
                        <label>Name</label>
                        <input type="text" class="form-control" name="name" value="">
                    </div>
                    <div class="form-group mb-4">
                        <label>Email address</label>
                        <input type="email" class="form-control" name="email" value="">
                    </div>
                    <div class="form-group mb-4">
                        <label>Current password</label>
                        <input type="password" class="form-control" name="oldPassword" value="">
                    </div>
                    <!-- Password input -->
                    <div class="form-group mb-4">
                        <label>New password</label>
                        <input type="password" class="form-control" name="newPassword" value="">
                    </div>
                        <input type="text" class="form-control" name="_id" value="{{user._id}}" hidden>

                    <!-- 2 column grid layout for inline styling -->
                    <div class="row mb-4">
                        <div class="col d-flex justify-content-center">
                    </div>
                    <!-- Submit button -->
                    <button type="submit"  onchange="return ('Profile updated')" class="btn btn-primary btn-block mb-4">Update</button>
                </form>
            </div>
        </div>
    </div>
</section>
<script>
$('#updateDetails').submit((e)=>
{
    e.preventDefault()
    $.ajax
    ({
        url:'/update-details',
        method:'post',
        data:$('#updateDetails').serialize(),
        success:(response)=>
        {
            if(response.status)
            {
                alert('Details updated')
                location.reload()    
            }else
            {
                alert('Details are mismatching')
            }
        }
    }) 
})
</script>